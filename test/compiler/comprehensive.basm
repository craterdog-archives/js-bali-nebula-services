
1.IfStatement:
PUSH HANDLERS 1.4.HandleClause

1.1.ConditionClause:
LOAD VARIABLE $a
LOAD VARIABLE $b
INVOKE INTRINSIC $less WITH 2 PARAMETERS
JUMP TO 1.2.ConditionClause ON FALSE

1.1.1.EvaluateStatement:
LOAD VARIABLE $b
STORE VARIABLE $a

1.1.2.EvaluateStatement:
LOAD VARIABLE $c
STORE VARIABLE $b

1.1.3.ThrowStatement:
LOAD VARIABLE $exception
HANDLE EXCEPTION

1.1.ConditionDone:
JUMP TO 1.StatementDone

1.2.ConditionClause:
LOAD VARIABLE $a
LOAD LITERAL `0`
INVOKE INTRINSIC $more WITH 2 PARAMETERS
JUMP TO 1.3.ElseClause ON FALSE

1.2.1.EvaluateStatement:
LOAD LITERAL `false`
STORE VARIABLE $_result_

1.2.2.EvaluateStatement:
LOAD LITERAL `<bali:/bali/types/SomeType>`
LOAD LITERAL `1`
INVOKE INTRINSIC $list WITH PARAMETER
LOAD VARIABLE $b
INVOKE INTRINSIC $addItem WITH 2 PARAMETERS
EXECUTE PROCEDURE $fibonacci WITH PARAMETERS
STORE VARIABLE $c

1.2.3.ReturnStatement:
LOAD VARIABLE $c
STORE VARIABLE $_result_
LOAD VARIABLE $_result_
HANDLE RESULT

1.2.ConditionDone:
JUMP TO 1.StatementDone

1.3.ElseClause:
SKIP INSTRUCTION

1.3.1.EvaluateStatement:
LOAD VARIABLE $b
LOAD LITERAL `1`
INVOKE INTRINSIC $list WITH PARAMETER
LOAD LITERAL `$tag`
INVOKE INTRINSIC $addItem WITH 2 PARAMETERS
EXECUTE PROCEDURE $find ON TARGET WITH PARAMETERS
STORE VARIABLE $d

1.3.2.EvaluateStatement:
LOAD LITERAL `(3, 4i)`
STORE VARIABLE $_result_

1.3.3.ReturnStatement:
LOAD VARIABLE $_result_
HANDLE RESULT

1.3.ElseDone:
POP HANDLERS
JUMP TO 1.StatementDone

1.4.HandleClause:
STORE VARIABLE $exception
LOAD VARIABLE $exception
LOAD VARIABLE $exception
LOAD LITERAL `1`
INVOKE INTRINSIC $catalog WITH PARAMETER
LOAD LITERAL `$type`
LOAD LITERAL `$warning`
INVOKE INTRINSIC $setValue WITH 3 PARAMETERS
INVOKE INTRINSIC $matches WITH 2 PARAMETERS
JUMP TO 1.5.HandleClause ON FALSE

1.4.1.EvaluateStatement:
LOAD VARIABLE $count
LOAD LITERAL `1`
INVOKE INTRINSIC $sum WITH 2 PARAMETERS
STORE VARIABLE $count

1.4.2.EvaluateStatement:
LOAD LITERAL `2`
INVOKE INTRINSIC $catalog WITH PARAMETER
LOAD LITERAL `$message`
LOAD LITERAL `"Something not too serious happened."`
INVOKE INTRINSIC $setValue WITH 3 PARAMETERS
LOAD LITERAL `$exception`
LOAD VARIABLE $exception
INVOKE INTRINSIC $setValue WITH 3 PARAMETERS
STORE VARIABLE $_result_

1.4.HandleDone:
JUMP TO 1.StatementDone

1.5.HandleClause:
STORE VARIABLE $exception
LOAD VARIABLE $exception
LOAD VARIABLE $exception
LOAD LITERAL `1`
INVOKE INTRINSIC $catalog WITH PARAMETER
LOAD LITERAL `$type`
LOAD LITERAL `$moderate`
INVOKE INTRINSIC $setValue WITH 3 PARAMETERS
INVOKE INTRINSIC $matches WITH 2 PARAMETERS
JUMP TO 1.UnhandledException ON FALSE

1.5.1.EvaluateStatement:
LOAD LITERAL `2`
INVOKE INTRINSIC $catalog WITH PARAMETER
LOAD LITERAL `$message`
LOAD LITERAL `"Something serious happened."`
INVOKE INTRINSIC $setValue WITH 3 PARAMETERS
LOAD LITERAL `$exception`
LOAD VARIABLE $exception
INVOKE INTRINSIC $setValue WITH 3 PARAMETERS
STORE VARIABLE $exception

1.5.2.ThrowStatement:
LOAD VARIABLE $exception
HANDLE EXCEPTION

1.5.HandleDone:
JUMP TO 1.StatementDone

1.UnhandledException:
HANDLE EXCEPTION

1.StatementDone:
SKIP INSTRUCTION

2.WhileStatement:
SKIP INSTRUCTION

2.1.ConditionClause:
LOAD LITERAL `true`
JUMP TO 2.StatementDone ON FALSE

2.1.1.EvaluateStatement:
LOAD VARIABLE $bar
STORE VARIABLE $foo

2.1.2.IfStatement:
SKIP INSTRUCTION

2.1.2.1.ConditionClause:
LOAD VARIABLE $foo
JUMP TO 2.1.2.2.ElseClause ON FALSE

2.1.2.1.1.BreakStatement:
JUMP TO 2.StatementDone

2.1.2.1.ConditionDone:
JUMP TO 2.1.2.StatementDone

2.1.2.2.ElseClause:
SKIP INSTRUCTION

2.1.2.2.1.WithStatement:
LOAD VARIABLE $sequence
INVOKE INTRINSIC $createIterator WITH PARAMETER
STORE VARIABLE $_iterator_1

2.1.2.2.1.1.ConditionClause:
LOAD VARIABLE $_iterator_1
INVOKE INTRINSIC $hasNext WITH PARAMETER
JUMP TO 2.1.2.2.1.StatementDone ON FALSE
LOAD VARIABLE $_iterator_1
INVOKE INTRINSIC $getNext WITH PARAMETER
STORE VARIABLE $item

2.1.2.2.1.1.1.SelectStatement:
LOAD VARIABLE $selection
STORE VARIABLE $_selector_2

2.1.2.2.1.1.1.1.OptionClause:
LOAD VARIABLE $_selector_2
LOAD LITERAL `$first`
INVOKE INTRINSIC $matches WITH 2 PARAMETERS
JUMP TO 2.1.2.2.1.1.1.2.OptionClause ON FALSE

2.1.2.2.1.1.1.1.1.EvaluateStatement:
LOAD LITERAL `true`
STORE VARIABLE $_result_

2.1.2.2.1.1.1.1.OptionDone:
JUMP TO 2.1.2.2.1.1.1.StatementDone

2.1.2.2.1.1.1.2.OptionClause:
LOAD VARIABLE $_selector_2
LOAD LITERAL `$second`
INVOKE INTRINSIC $matches WITH 2 PARAMETERS
JUMP TO 2.1.2.2.1.1.1.3.ElseClause ON FALSE

2.1.2.2.1.1.1.2.1.EvaluateStatement:
LOAD LITERAL `false`
STORE VARIABLE $_result_

2.1.2.2.1.1.1.2.OptionDone:
JUMP TO 2.1.2.2.1.1.1.StatementDone

2.1.2.2.1.1.1.3.ElseClause:
SKIP INSTRUCTION

2.1.2.2.1.1.1.3.1.ContinueStatement:
JUMP TO 2.1.2.2.1.1.ConditionClause

2.1.2.2.1.1.1.3.ElseDone:
JUMP TO 2.1.2.2.1.1.1.StatementDone

2.1.2.2.1.1.1.StatementDone:
SKIP INSTRUCTION

2.1.2.2.1.ConditionRepeat:
JUMP TO 2.1.2.2.1.1.ConditionClause

2.1.2.2.1.StatementDone:
SKIP INSTRUCTION

2.1.2.2.ElseDone:
SKIP INSTRUCTION

2.1.2.StatementDone:
SKIP INSTRUCTION

2.ConditionRepeat:
JUMP TO 2.1.ConditionClause

2.StatementDone:
SKIP INSTRUCTION

