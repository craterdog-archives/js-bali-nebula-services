
1.QueueStatement:
PUSH ADDRESS 1.QueueStatementHandlers
PUSH ELEMENT `none`
PUSH ELEMENT `<bali:/queues/myqueue>`
EXECUTE $asReference ON TARGET
STORE VARIABLE $_queue_1_
LOAD VARIABLE $message
STORE MESSAGE $_queue_1_

1.QueueStatementDone:
POP ADDRESS
JUMP TO 1.QueueStatementSucceeded

1.QueueStatementHandlers:
STORE VARIABLE $_exception_

1.1.HandleClause:
LOAD VARIABLE $_exception_
STORE VARIABLE $error
LOAD VARIABLE $error
PUSH ELEMENT `none`
PUSH ELEMENT `1`
INVOKE $catalog WITH PARAMETER
PUSH ELEMENT `none`
PUSH ELEMENT `$type`
PUSH ELEMENT `none`
PUSH ELEMENT `'bad'`
INVOKE $setValue WITH 3 PARAMETERS
PUSH STRUCTURE
INVOKE $matches WITH 2 PARAMETERS
JUMP TO 1.2.HandleClause ON FALSE

1.1.1.EvaluateStatement:
PUSH ELEMENT `none`
PUSH ELEMENT `any`
STORE VARIABLE $_result_

1.1.HandleClauseDone:
PUSH ELEMENT `none`
STORE VARIABLE $_exception_
JUMP TO 1.QueueStatementSucceeded

1.2.HandleClause:
LOAD VARIABLE $_exception_
STORE VARIABLE $error
LOAD VARIABLE $error
PUSH ELEMENT `none`
PUSH ELEMENT `1`
INVOKE $catalog WITH PARAMETER
PUSH ELEMENT `none`
PUSH ELEMENT `$type`
PUSH ELEMENT `none`
PUSH ELEMENT `'horrid'`
INVOKE $setValue WITH 3 PARAMETERS
PUSH STRUCTURE
INVOKE $matches WITH 2 PARAMETERS
JUMP TO 1.QueueStatementFailed ON FALSE

1.2.1.EvaluateStatement:
PUSH ELEMENT `none`
PUSH ELEMENT `none`
STORE VARIABLE $_result_

1.2.HandleClauseDone:
PUSH ELEMENT `none`
STORE VARIABLE $_exception_
JUMP TO 1.QueueStatementSucceeded

1.QueueStatementFailed:
HANDLE EXCEPTION

1.QueueStatementSucceeded:
SKIP INSTRUCTION


